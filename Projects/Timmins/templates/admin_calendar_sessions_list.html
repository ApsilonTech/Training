<!DOCTYPE html>
<html lang="en">

<head>

   <!-- META ============================================= -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="keywords" content="" />
   <meta name="author" content="" />
   <meta name="robots" content="" />

   <!-- DESCRIPTION -->
   <meta name="description" content="" />

   <!-- OG -->
   <meta property="og:title" content="" />
   <meta property="og:description" content="" />
   <meta property="og:image" content="" />
   <meta name="format-detection" content="telephone=no">

    <!--------FAVICON------------------------->
    <link rel="icon" href="static/assets/images/timmins_favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" type="image/x-icon" href="static/assets/images/timmins_favicon.png" />

   <!-- PAGE TITLE HERE ============================================= -->
   <title>Timmins: admin-calendar-sessions-list</title>

   <!-- MOBILE SPECIFIC ============================================= -->
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!--[if lt IE 9]>
   <script src="static/assets/js/html5shiv.min.js"></script>
   <script src="static/assets/js/respond.min.js"></script>
   <![endif]-->

   <!-- All PLUGINS CSS ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-assets.css">
   <link rel="stylesheet" type="text/css" href="static/assets/vendors/calendar/fullcalendar.css">

   <!-- TYPOGRAPHY ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-typography.css">

   <!-- SHORTCODES ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/shortcodes/admin-shortcodes.css">

   <!-- STYLESHEETS ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-style.css">
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-dashboard.css">
   <link class="skin" rel="stylesheet" type="text/css" href="static/assets/css/color/admin-color-1.css">
   <style>
      table{
         border-collapse: collapse;
         width: 100%;
      }
      td, th{
         border: 1px solid #dddddd;
         text-align: left;
         padding: 8px;
      }
      tr:nth-child(even){
         background-color: #E8E8E8;
      }
      .first-delete-btn{
        border: 2px solid;
        padding: 5px 10px;
        display: inline-block;
        color: #f63333;
        border-radius: 4px;
      }
   </style>
</head>
<body class="ttr-opened-sidebar ttr-pinned-sidebar">

   <!-- header start -->
   <header class="ttr-header">
      <div class="ttr-header-wrapper">
         <!--sidebar menu toggler start -->
         <div class="ttr-toggle-sidebar ttr-material-button">
            <i class="ti-close ttr-open-icon"></i>
            <i class="ti-menu ttr-close-icon"></i>
         </div>
         <!--sidebar menu toggler end -->
         <!--logo start -->

         <!--logo end -->
         <div class="ttr-header-menu">
            <!-- header left menu start -->
            <ul class="ttr-header-navigation">
               <li>
                  <a href="/" class="ttr-material-button ttr-submenu-toggle">HOME</a>
               </li>

            </ul>
            <!-- header left menu end -->
         </div>
         <div class="ttr-header-right ttr-with-seperator">
            <!-- header right menu start -->

            <!-- header right menu end -->
         </div>
         <!--header search panel start -->
         <div class="ttr-search-bar">
            <form class="ttr-search-form">
               <div class="ttr-search-input-wrapper">
                  <input type="text" name="qq" placeholder="search something..." class="ttr-search-input">
                  <button type="submit" name="search" class="ttr-search-submit"><i class="ti-arrow-right"></i></button>
               </div>
               <span class="ttr-search-close ttr-search-toggle">
                  <i class="ti-close"></i>
               </span>
            </form>
         </div>
         <!--header search panel end -->
      </div>
   </header>
   <!-- header end -->
   <!-- Left sidebar menu start -->
   <div class="ttr-sidebar">
      <div class="ttr-sidebar-wrapper content-scroll">
         <!-- side menu logo start -->
         <div class="ttr-sidebar-logo">
            <a href="/"><img alt="" src="static/assets/timmins_images/logo.png" width="70" height="15"></a>
            <!-- <div class="ttr-sidebar-pin-button" title="Pin/Unpin Menu">
               <i class="material-icons ttr-fixed-icon">gps_fixed</i>
               <i class="material-icons ttr-not-fixed-icon">gps_not_fixed</i>
            </div> -->
            <div class="ttr-sidebar-toggle-button">
               <i class="ti-arrow-left"></i>
            </div>
         </div>
         <!-- side menu logo end -->
         <!-- sidebar menu start -->
         <nav class="ttr-sidebar-navi">
            <ul>
               <li>
                  <a href="/admin_panel?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-home"></i></span>
                         <span class="ttr-label">Dashboard</span>
                      </a>
                  </li>
               <li>
                  <a href="courses.html" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-plus"></i></span>
                         <span class="ttr-label">Domains</span>
                            <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                        <ul>
                         <li>
                            <a href="/admin_domain_create?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_domain_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="courses.html" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                         <span class="ttr-label">Courses</span>
                            <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                        <ul>
                         <li>
                            <a href="/admin_new_course_upload?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_courses_main?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
                    <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-calendar"></i></span>
                         <span class="ttr-label">Training Calendar</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                     <li>
                            <a href="/admin_training_calendar_new?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                     <li>
                            <a href="/admin_calendar_list_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                         <li>
                            <a href="/admin_basic_calendar?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-calendar"></i>&nbsp;Calendar View</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-user"></i></span>
                         <span class="ttr-label">Users</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                      <li>
                         <a href="/admin_user_display_list?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;&nbsp;Display Users</span></a>
                      </li>
                     <li>
                        <a href="/admin_user_calendar_create?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;&nbsp;Create User Calendar</span></a>
                     </li>
                      <li>
                         <a href="/admin_event_users_mapping?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;&nbsp;Event Users Mapping</span></a>
                      </li>
                  </ul>
                  </li>
                    <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                         <span class="ttr-label">Certification Programs</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                         <li>
                            <a href="/admin_certification_create_new?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_certification_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="/admin_banner_creation?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                     <span class="ttr-label">Banner</span>
                  </a>
               </li>
                <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-comment"></i></span>
                     <span class="ttr-label">Testimonials</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                  </a>
                  <ul>
                         <li>
                            <a href="/admin_testimonial_creation?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_testimonial_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      <li>
                            <a href="/admin_testimonial_for_individual_course_creation?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Create for Individual courses</span></a>
                         </li>
                        <li>
                            <a href="/admin_testimonial_for_individual_course_edition?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit for Individual courses</span></a>
                         </li>
                      </ul>
               </li>
                <li>
                   <a href="/admin_seo?email_person=admin" class="ttr-material-button">
                      <span class="ttr-icon"><i class="ti-book"></i></span>
                      <span class="ttr-label">SEO Code</span>
                   </a>
                </li>
               <li>
                  <a href="/admin_user_profile?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-user"></i></span>
                         <span class="ttr-label">Profile</span>
                      </a>
                  </li>


                  <li class="ttr-seperate"></li>
            </ul>
            <!-- sidebar menu end -->
         </nav>
         <!-- sidebar menu end -->
      </div>
   </div>
   <!-- Left sidebar menu end -->

   <!--Main container start -->
   <main class="ttr-wrapper">
      <div class="container-fluid">
         <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
               <div class="widget-box">
                  <div class="wc-title row">
                      <h2 style="font-size: 30px;margin-bottom: 20px;">
                          Individual Batch Session List
                      </h2>
                  </div>
                  <div class="wc-title row">
                     <div class="col-lg-6 col-sm-6">
                        <h3 style="font-size:25px;">{{event_name}}<span style="font-size: 22px; font-style:italic;"> - {{batch_name}}</span></h3>
                     </div>
                      <div class="col-lg-2 col-sm-2">
                          {% if go_back == "create" %}
                              <form action="/admin_calendar_batches_list">
                                  <input type="hidden" name="email_person" value="admin">
                                  <button type="submit" name="event_id" value="{{event_id}}" style="padding:5px;border-radius:5px;">
                                      View batches
                                  </button>
                              </form>
                          {% elif go_back == "edit" %}
                              <form action="/admin_calendar_edit_batch_details_view">
                                  <input type="hidden" name="email_person" value="admin">
                                  <input type="hidden" name="event_id" value="{{event_id}}">
                                  <input type="hidden" name="batch_id" value="{{batch_id}}">
                                  <button type="submit" style="padding:5px;border-radius:5px;">
                                      Go Back
                                  </button>
                              </form>
                          {% endif %}
                      </div>
                      <div class="col-lg-2 col-sm-2">
                          <form action="/admin_calendar_list_view">
                              <input type="hidden" name="email_person" value="admin">
                              <button type="submit" style="padding:5px;border-radius:5px;">View Event</button>
                          </form>
                      </div>
                      <div class="col-lg-2 col-sm-2">
                          <button class="btn" id="add_session_btn" style="background-color:#1d1a4e;" onclick="newSessionFunc()">
                              <a href="#newSession" style="color:white;"><i class="ti ti-plus">&nbsp;Add Session</i></a>
                          </button>
                      </div>
                  </div>
                  <div class="widget-inner">
                      <table>
                          <tr>
                              <th>Session Date</th>
                              <th>Start Time</th>
                              <th>Duration</th>
                              <th>Save Details</th>
                              <th>Delete Session</th>
                          </tr>
                          {% for session_loop in session_details %}
                              <tr>
                                  <form action="/admin_calendar_sessions_update?email_person=admin" method="post" id="session-form-{{ loop.index }}">
                                      <input type="hidden" name="session_id" value="{{session_loop[0]}}">
                                      <input type="hidden" name="batch_id" value="{{batch_id}}">
                                      <input type="hidden" name="event_id" value="{{event_id}}">
                                      <input type="hidden" name="go_back" value="{{go_back}}">
                                      <td>
                                          <input type="date" name="session_date" value="{{session_loop[2]}}" required>
                                      </td>
                                      <td>
                                          <input type="time" name="session_start_time" value="{{session_loop[3]}}" required>
                                      </td>
                                      <td>
                                          <input type="text" name="session_duration" value="{{session_loop[4]}}" required>
                                      </td>
                                      <td>
                                          <button type="submit" name="action" value="edit" style="border:none; background-color: transparent;">  <!--border-radius:5px; padding: 0px 10px; -->
                                              <i class="fa fa-save" style="font-size:24px;"></i>
                                          </button>
                                      </td>
                                      <td>
                                          <button type="button" onclick="showConfirmation('{{ loop.index }}')" style="border:none; background-color: transparent;">  <!-- border-radius:5px; -->
                                              <i class="fa fa-trash" style="font-size:24px;"></i>
                                          </button>
                                      </td>
                                  </form>
                              </tr>
                          {% endfor %}
                      </table>
                      <div id="newSession" style="display:none;border: 2px solid; border-radius: 5px; padding:10px;">
                          <form action="/admin_calendar_add_new_session?email_person=admin" method="post">
                              <input type="hidden" name="event_id" value="{{event_id}}">
                              <input type="hidden" name="batch_id" value="{{batch_id}}">
                              <div id="individualDiv">
                                    <div class="row placeani">
                                       <table id="sessionsDiv" style="width:100%;">
                                           <div id="session1">
                                               <tr style="padding:5px;" class="list-item-head">
                                                   <th class="list-item-head-content">
                                                       <div class="row" style="padding: 15px;">
                                                           <div class="col-lg-3">
                                                               <label class="col-form-label">
                                                                   Session Date
                                                               </label>
                                                               <div class="row">
                                                                   <div class="col-lg-12">
                                                                       <input class="form-control session_date" type="date" name="session_date1" id="sessionDate1" style="background-color: #dddddd;">
                                                                   </div>
                                                               </div>
                                                           </div>
                                                           <div class="col-lg-3">
                                                               <label class="col-form-label">
                                                                   Start Time
                                                               </label>
                                                               <div class="row">
                                                                   <div class="col-lg-12">
                                                                       <input class="form-control session_start_time" type="time" name="session_start_time1" id="sessionStartTime1" style="background-color: #dddddd;">
                                                                   </div>
                                                               </div>
                                                           </div>
                                                           <div class="col-lg-3">
                                                               <label class="col-form-label">
                                                                   Session Duration
                                                               </label>
                                                               <div class="row">
                                                                   <div class="col-lg-12">
                                                                       <input class="form-control session_duration" type="text" name="session_duration1" id="sessionDuration1" style="background-color: #dddddd;">
                                                                   </div>
                                                               </div>
                                                           </div>
                                                           <div class="col-lg-3">
                                                               <button type="button" class="first-delete-btn" onclick="firstDeleteSession()">
                                                                   <i class="fa fa-close"></i>
                                                                </button>
                                                           </div>
                                                       </div>
                                                   </th>
                                               </tr>
                                           </div>
                                        </table>
                                    </div>
                                  <div class="row placeani">
                                    <div class="col-12">
                                        <button type="button" class="btn-secondry add-item m-r5" onclick="AddSession()"><i class="fa fa-fw fa-plus-circle"></i>Add Session</button>
                                    </div>
                                  </div>
                              </div><br>
                              <div class="">
                                <div class="">
                                   <div class="row text-center">
                                     <div class="col-12 col-sm-9 col-md-9 col-lg-7">
                                       <button type="submit" class="btn" style="color:black; font-weight:500;">Create New Session</button>
                                     </div>
                                   </div>
                                </div>
                              </div>
                          </form>
                      </div>
                  </div>
                  </div>
                  <div class="modal fade review-bx-reply" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                     <div class="modal-dialog" role="document">
                        <div class="modal-content">
                           <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Reply to review</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                              </button>
                           </div>
                           <div class="modal-body">
                              <textarea class="form-control" placeholder="Type text"></textarea>
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn mr-auto">Reply</button>
                           </div>
                        </div>
                     </div>
                  </div>
            </div>
         </div>
          <!-- Your Profile Views Chart END-->
      </div>
   </main>
   <div class="ttr-overlay"></div>

<!-- External JavaScripts -->
<script src="static/assets/js/jquery.min.js"></script>
<script src="static/assets/vendors/bootstrap/js/popper.min.js"></script>
<script src="static/assets/vendors/bootstrap/js/bootstrap.min.js"></script>
<script src="static/assets/vendors/bootstrap-select/bootstrap-select.min.js"></script>
<script src="static/assets/vendors/admin-bootstrap-touchspin/jquery.bootstrap-touchspin.js"></script>
<script src="static/assets/vendors/magnific-popup/magnific-popup.js"></script>
<script src="static/assets/vendors/counter/waypoints-min.js"></script>
<script src="static/assets/vendors/counter/counterup.min.js"></script>
<script src="static/assets/vendors/imagesloaded/imagesloaded.js"></script>
<script src="static/assets/vendors/masonry/masonry.js"></script>
<script src="static/assets/vendors/masonry/filter.js"></script>
<script src="static/assets/vendors/owl-carousel/owl.carousel.js"></script>
<script src='static/assets/vendors/scroll/scrollbar.min.js'></script>
<script src="static/assets/js/admin-functions.js"></script>
<script src="static/assets/vendors/chart/chart.min.js"></script>
<script src="static/assets/js/admin.js"></script>
<script>
    if ("{{update_alert}}" == "yes_edited"){
        alert("Details successfully updated.")
    } else if ("{{update_alert}}" == "yes_deleted"){
       alert("Details successfully deleted.")
    }

    function showConfirmation(index) {
      if (confirm("Are you sure you want to delete this session?")) {
        var form = document.getElementById("session-form-" + index);
        var input = document.createElement("input");
        input.type = "hidden";
        input.name = "action";
        input.value = "delete";
        form.appendChild(input);
        form.submit();
      }
    }

    function newSessionFunc(){
        document.getElementById("newSession").style.display="block";
        document.getElementById("add_session_btn").disabled=true;
        document.getElementById("sessionDate1").required = true;
            document.getElementById("sessionStartTime1").required = true;
            document.getElementById("sessionDuration1").required = true;
            for (var i = 2; i < sessionNumValue; i++) {
              var sessionDate = "sessionDate" + i;
              var sessionStartTime = "sessionStartTime" + i;
              var sessionDuration = "sessionDuration" + i;
              document.getElementById(sessionDate).required = true;
              document.getElementById(sessionStartTime).required = true;
              document.getElementById(sessionDuration).required = true;
            }
    }

    function firstDeleteSession(){
        document.getElementById("newSession").style.display="none";
        document.getElementById("add_session_btn").disabled=false;
        document.getElementById("sessionDate1").required = false;
        document.getElementById("sessionStartTime1").required = false;
        document.getElementById("sessionDuration1").required = false;
        for (var i = 2; i < sessionNumValue; i++) {
          var sessionDate = "sessionDate" + i;
          var sessionStartTime = "sessionStartTime" + i;
          var sessionDuration = "sessionDuration" + i;
          document.getElementById(sessionDate).required = false;
          document.getElementById(sessionStartTime).required = false;
          document.getElementById(sessionDuration).required = false;
        }
    }

   var sessionNumValue = 2;
   function AddSession(){
       iSession = sessionNumValue;
       var session = '<div id="session'+iSession+'"><tr style="padding:5px;" class="list-item-head"><th class="list-item-head-content"><div class="row" style="padding: 15px;"><div class="col-lg-3"><label class="col-form-label">Session Date</label><div class="row"><div class="col-lg-12"><input class="form-control session_date" type="date" name="session_date" id="sessionDate'+iSession+'" style="background-color: #dddddd;" required></div></div></div><div class="col-lg-3"><label class="col-form-label">Start Time</label><div class="row"><div class="col-lg-12"><input class="form-control session_start_time" type="time" name="session_start_time" id="sessionStartTime'+iSession+'" style="background-color: #dddddd;" required></div></div></div><div class="col-lg-3"><label class="col-form-label">Session Duration</label><div class="row"><div class="col-lg-12"><input class="form-control session_duration" type="text" name="session_duration" id="sessionDuration'+iSession+'" style="background-color: #dddddd;" required></div></div></div><div class="col-lg-3 delete-div form-group-delete"><button class="delete" id="sessionDelete'+iSession+'" onclick="DeleteSession(iSession)"><i class="fa fa-close"></i></button></div></div></th></tr></div>'
       $('#sessionsDiv').append(session);
       sessionNumValue++;
   }

   function DeleteSession(iSession) {
        return function() {
            var sessionId = 'session' + iSession;
            var sessionElement = $('#' + sessionId);
            sessionElement.remove();

            // Update batch numbers
            $('.list-item-head-value').each(function(index) {
                $(this).text('Session ' + (index + 1));
            });

            $('.list-item-head-input').each(function(index) {
                $(this).val('Session ' + (index + 1));
            });

            sessionNumValue--;
        }
   }

    $(document).on('click', '.delete', function() {
        var button = $(this);
        var sessionId = button.attr('id').replace('sessionDelete', '');
        var sessionNumber = parseInt(sessionId);

        DeleteSession(sessionNumber)();
    });
</script>
</body>

</html>