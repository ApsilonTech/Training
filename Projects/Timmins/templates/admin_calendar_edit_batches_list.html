<!DOCTYPE html>
<html lang="en">

<head>

   <!-- META ============================================= -->
   <meta charset="utf-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="keywords" content="" />
   <meta name="author" content="" />
   <meta name="robots" content="" />

   <!-- DESCRIPTION -->
   <meta name="description" content="" />

   <!-- OG -->
   <meta property="og:title" content="" />
   <meta property="og:description" content="" />
   <meta property="og:image" content="" />
   <meta name="format-detection" content="telephone=no">

   <!-- PAGE TITLE HERE ============================================= -->
   <title>Timmins: admin-calendar-edit-batches-list</title>

   <!-- MOBILE SPECIFIC ============================================= -->
   <meta name="viewport" content="width=device-width, initial-scale=1">

   <!--[if lt IE 9]>
   <script src="static/assets/js/html5shiv.min.js"></script>
   <script src="static/assets/js/respond.min.js"></script>
   <![endif]-->

   <!-- All PLUGINS CSS ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-assets.css">
   <link rel="stylesheet" type="text/css" href="static/assets/vendors/calendar/fullcalendar.css">

   <!-- TYPOGRAPHY ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-typography.css">

   <!-- SHORTCODES ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/shortcodes/admin-shortcodes.css">

   <!-- STYLESHEETS ============================================= -->
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-style.css">
   <link rel="stylesheet" type="text/css" href="static/assets/css/admin-dashboard.css">
   <link class="skin" rel="stylesheet" type="text/css" href="static/assets/css/color/admin-color-1.css">
   <style>
      table{
         border-collapse: collapse;
         width: 100%;
      }
      td, th{
         border: 1px solid #dddddd;
         text-align: left;
         padding: 8px;
      }
      tr:nth-child(even){
         background-color: #E8E8E8;
      }
   </style>
</head>
<body class="ttr-opened-sidebar ttr-pinned-sidebar">

   <!-- header start -->
   <header class="ttr-header">
      <div class="ttr-header-wrapper">
         <!--sidebar menu toggler start -->
         <div class="ttr-toggle-sidebar ttr-material-button">
            <i class="ti-close ttr-open-icon"></i>
            <i class="ti-menu ttr-close-icon"></i>
         </div>
         <!--sidebar menu toggler end -->
         <!--logo start -->

         <!--logo end -->
         <div class="ttr-header-menu">
            <!-- header left menu start -->
            <ul class="ttr-header-navigation">
               <li>
                  <a href="/" class="ttr-material-button ttr-submenu-toggle">HOME</a>
               </li>

            </ul>
            <!-- header left menu end -->
         </div>
         <div class="ttr-header-right ttr-with-seperator">
            <!-- header right menu start -->

            <!-- header right menu end -->
         </div>
         <!--header search panel start -->
         <div class="ttr-search-bar">
            <form class="ttr-search-form">
               <div class="ttr-search-input-wrapper">
                  <input type="text" name="qq" placeholder="search something..." class="ttr-search-input">
                  <button type="submit" name="search" class="ttr-search-submit"><i class="ti-arrow-right"></i></button>
               </div>
               <span class="ttr-search-close ttr-search-toggle">
                  <i class="ti-close"></i>
               </span>
            </form>
         </div>
         <!--header search panel end -->
      </div>
   </header>
   <!-- header end -->
   <!-- Left sidebar menu start -->
   <div class="ttr-sidebar">
      <div class="ttr-sidebar-wrapper content-scroll">
         <!-- side menu logo start -->
         <div class="ttr-sidebar-logo">
            <a href="/"><img alt="" src="static/assets/timmins_images/logo.png" width="70" height="15"></a>
            <!-- <div class="ttr-sidebar-pin-button" title="Pin/Unpin Menu">
               <i class="material-icons ttr-fixed-icon">gps_fixed</i>
               <i class="material-icons ttr-not-fixed-icon">gps_not_fixed</i>
            </div> -->
            <div class="ttr-sidebar-toggle-button">
               <i class="ti-arrow-left"></i>
            </div>
         </div>
         <!-- side menu logo end -->
         <!-- sidebar menu start -->
         <nav class="ttr-sidebar-navi">
            <ul>
               <li>
                  <a href="/admin_panel?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-home"></i></span>
                         <span class="ttr-label">Dashboard</span>
                      </a>
                  </li>
               <li>
                  <a href="courses.html" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-plus"></i></span>
                         <span class="ttr-label">Domains</span>
                            <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                        <ul>
                         <li>
                            <a href="/admin_domain_create?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_domain_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="courses.html" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                         <span class="ttr-label">Courses</span>
                            <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                        <ul>
                         <li>
                            <a href="/admin_new_course_upload?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_courses_main?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
                    <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-calendar"></i></span>
                         <span class="ttr-label">Training Calendar</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                     <li>
                            <a href="/admin_training_calendar_new?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                     <li>
                            <a href="/admin_calendar_list_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                         <li>
                            <a href="/admin_basic_calendar?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-calendar"></i>&nbsp;Calendar View</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-user"></i></span>
                         <span class="ttr-label">Users</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                      <li>
                         <a href="/admin_user_display_list?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;&nbsp;Display Users</span></a>
                      </li>
                     <li>
                        <a href="/admin_user_calendar_create?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;&nbsp;Create User Calendar</span></a>
                     </li>
                      <li>
                         <a href="/admin_event_users_mapping?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;&nbsp;Event Users Mapping</span></a>
                      </li>
                  </ul>
                  </li>
                    <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                         <span class="ttr-label">Certification Programs</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                      </a>
                  <ul>
                         <li>
                            <a href="/admin_certification_create_new?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_certification_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      </ul>
                  </li>
               <li>
                  <a href="/admin_banner_creation?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-book"></i></span>
                     <span class="ttr-label">Banner</span>
                  </a>
               </li>
                <li>
                  <a href="#" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-comment"></i></span>
                     <span class="ttr-label">Testimonials</span>
                     <span class="ttr-arrow-icon"><i class="fa fa-angle-down"></i></span>
                  </a>
                  <ul>
                         <li>
                            <a href="/admin_testimonial_creation?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Add New</span></a>
                         </li>
                         <li>
                            <a href="/admin_testimonial_view?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit</span></a>
                         </li>
                      <li>
                            <a href="/admin_testimonial_for_individual_course_creation?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-plus"></i>&nbsp;Create for Individual courses</span></a>
                         </li>
                        <li>
                            <a href="/admin_testimonial_for_individual_course_edition?email_person=admin" class="ttr-material-button"><span class="ttr-label"><i class="ti ti-pencil"></i>&nbsp;Edit for Individual courses</span></a>
                         </li>
                  </ul>
               </li>
                <li>
                   <a href="/admin_seo?email_person=admin" class="ttr-material-button">
                      <span class="ttr-icon"><i class="ti-book"></i></span>
                      <span class="ttr-label">SEO Code</span>
                   </a>
                </li>
               <li>
                  <a href="/admin_user_profile?email_person=admin" class="ttr-material-button">
                     <span class="ttr-icon"><i class="ti-user"></i></span>
                         <span class="ttr-label">Profile</span>
                      </a>
                  </li>


                  <li class="ttr-seperate"></li>
            </ul>
            <!-- sidebar menu end -->
         </nav>
         <!-- sidebar menu end -->
      </div>
   </div>
   <!-- Left sidebar menu end -->

   <!--Main container start -->
   <main class="ttr-wrapper">
      <div class="container-fluid">
         <div class="row">
            <!-- Your Profile Views Chart -->
            <div class="col-lg-12 m-b30">
               <div class="widget-box">
                   <div class="wc-title row">
                       <h2 style="font-size: 30px;margin-bottom: 20px;">
                           Event Batches List Edit
                       </h2>
                   </div>
                  <div class="wc-title row">
                     <div class="col-lg-7 col-md-7">
                        <h3>
                             <input type="text" id="event_name_input" name="event_name" value="{{event_name}}" style="font-weight: 500; width: 650px;">
                        </h3>
                     </div>
                     <div class="col-lg-1 col-md-1">
                          <form id="save_form" action="/admin_calendar_edit_event_name?email_person=admin" method="post">
                            <button type="submit" id="save_button" style="border:none; padding: 0px; background-color:transparent;">
                              <i class="fa fa-save" style="font-size: 26px;"></i>
                            </button>
                          </form>
                     </div>

                      <div class="col-lg-2 col-md-2">
                          <form action="/admin_calendar_list_view">
                              <input type="hidden" name="email_person" value="admin">
                              <button type="submit" style="border-radius:5px;">
                                  Go Back
                              </button>
                          </form>
                      </div>
                      <div class="col-lg-2 col-md-2">
                          <form action="/admin_calendar_edit_add_batch?email_person=admin" method="post">
                              <button type="submit" name="event_id" value="{{event_id}}" style="background-color:#1d1a4e; color:white;">
                                  <i class="ti ti-plus">&nbsp;Add Batch</i>
                              </button>
                          </form>
                      </div>
                  </div>
                  <div class="widget-inner">
                      <table>
                        <tr>
                          <th>Batch No.</th>
                          <th>Batch Name</th>
                          <th>Save Name</th>
                          <th>Delete Batch</th>
                          <th></th>
                          <th></th>
                          <th></th>
                        </tr>
                          {% for batch_loop in all_batch_details %}
                              <tr>
                                  <form action="/admin_calendar_edit_batch_update?email_person=admin" method="post" id="batch-form-{{ loop.index }}">
                                      <input type="hidden" name="batch_id" value="{{batch_loop[0]}}">
                                      <input type="hidden" name="event_id" value="{{event_id}}">
                                      <td>
                                          {{batch_loop[1]}}
                                      </td>
                                      <td>
                                          <input type="text" name="batch_name" value="{{batch_loop[2]}}" required>
                                      </td>
                                      <td>
                                          <button type="submit" name="action" value="save" style="border:none; padding: 0px; background-color:transparent;">
                                              <i class="fa fa-save" style="font-size: 24px;"></i>
                                          </button>
                                      </td>
                                      <td>
                                          <button type="button" onclick="showConfirmation('{{ loop.index }}')" style="border:none; padding: 0px; background-color:transparent;">
                                              <i class="fa fa-trash" style="font-size: 24px;"></i>
                                          </button>
                                      </td>
                                      <td>
                                          <button type="submit" name="action" value="view_details" style="border-radius:5px; padding: 0px 10px;">
                                              View Details
                                          </button>
                                      </td>
                                      <td>
                                          <button type="submit" name="action" value="view_sessions" style="border-radius:5px; padding: 0px 10px;">
                                              View Sessions
                                          </button>
                                      </td>
                                      <td>
                                          <button type="submit" name="action" value="view_users" style="border-radius:5px; padding: 0px 10px;">
                                              View Users
                                          </button>
                                      </td>
                                  </form>
                              </tr>
                          {% endfor %}
                      </table>
                  </div>
                  </div>
                  <div class="modal fade review-bx-reply" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                     <div class="modal-dialog" role="document">
                        <div class="modal-content">
                           <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Reply to review</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                              </button>
                           </div>
                           <div class="modal-body">
                              <textarea class="form-control" placeholder="Type text"></textarea>
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn mr-auto">Reply</button>
                           </div>
                        </div>
                     </div>
                  </div>
            </div>
         </div>
          <!-- Your Profile Views Chart END-->
      </div>
   </main>
   <div class="ttr-overlay"></div>

<!-- External JavaScripts -->
<script src="static/assets/js/jquery.min.js"></script>
<script src="static/assets/vendors/bootstrap/js/popper.min.js"></script>
<script src="static/assets/vendors/bootstrap/js/bootstrap.min.js"></script>
<script src="static/assets/vendors/bootstrap-select/bootstrap-select.min.js"></script>
<script src="static/assets/vendors/admin-bootstrap-touchspin/jquery.bootstrap-touchspin.js"></script>
<script src="static/assets/vendors/magnific-popup/magnific-popup.js"></script>
<script src="static/assets/vendors/counter/waypoints-min.js"></script>
<script src="static/assets/vendors/counter/counterup.min.js"></script>
<script src="static/assets/vendors/imagesloaded/imagesloaded.js"></script>
<script src="static/assets/vendors/masonry/masonry.js"></script>
<script src="static/assets/vendors/masonry/filter.js"></script>
<script src="static/assets/vendors/owl-carousel/owl.carousel.js"></script>
<script src='static/assets/vendors/scroll/scrollbar.min.js'></script>
<script src="static/assets/js/admin-functions.js"></script>
<script src="static/assets/vendors/chart/chart.min.js"></script>
<script src="static/assets/js/admin.js"></script>
<script>
    const eventNameInput = document.getElementById("event_name_input");
    const saveForm = document.getElementById("save_form");

    // Add a click event listener to the save button
    document.getElementById("save_button").addEventListener("click", function (event) {
      event.preventDefault(); // Prevent form submission (so the page won't refresh)

      const event_name_value = eventNameInput.value;

      const inputElement = document.createElement("input");
      inputElement.setAttribute("type", "hidden");
      inputElement.setAttribute("name", "event_name");
      inputElement.setAttribute("value", event_name_value);
      saveForm.appendChild(inputElement);

      const inputElement2 = document.createElement("input");
      inputElement2.setAttribute("type", "hidden");
      inputElement2.setAttribute("name", "event_id");
      inputElement2.setAttribute("value", "{{event_id}}");
      saveForm.appendChild(inputElement2);

      // Now submit the form programmatically
      saveForm.submit();
    });
</script>
<script>
    if ("{{update_alert}}" == "yes_saved"){
        alert("Details successfully updated.")
    } else if ("{{update_alert}}" == "yes_deleted"){
       alert("Details successfully deleted.")
    } else if ("{{update_alert}}" == "yes_event_name_updated"){
        alert("Event Name successfully updated.")
    }

    function showConfirmation(index) {
      if (confirm("Are you sure you want to delete this batch and related session?")) {
        var form = document.getElementById("batch-form-" + index);
        var input = document.createElement("input");
        input.type = "hidden";
        input.name = "action";
        input.value = "delete";
        form.appendChild(input);
        form.submit();
      }
    }
</script>
</body>

</html>